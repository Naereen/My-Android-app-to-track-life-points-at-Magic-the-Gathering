<!doctype html>
<html lang="en" class="select-none">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" href="%sveltekit.assets%/icons/favicon.ico" />
		<link rel="apple-touch-icon" href="%sveltekit.assets%/icons/apple-touch-icon.png" />
		<!-- Documentation? https://dicefont.com/ -->
		<link rel="stylesheet" href="%sveltekit.assets%/dicefont/dicefont.css" />
		<!-- Documentation? https://keyrune.andrewgioia.com/icons.html -->
		<link rel="stylesheet" href="%sveltekit.assets%/keyrune/css/keyrune.css" />
		<meta name="msapplication-TileColor" content="#062911" />
		<meta name="theme-color" content="#062911" />
		<link rel="manifest" href="%sveltekit.assets%/manifest.json" />
		<title>Naereen's MTG Life Tracker</title>
		%sveltekit.head%
	</head>

	<body
		data-sveltekit-preload-data="hover"
		class="bg-black font-body leading-relaxed text-slate-400 antialiased touch-none select-none w-full"
	>
		<div style="display: contents">%sveltekit.body%</div>

		<script>
			// Register the service worker generated by VitePWA (only in production/dev-server-ignored)
			if ('serviceWorker' in navigator) {
				// Avoid registering during local dev (Vite dev server on port 5173)
				const isLocalDev = location.hostname === 'localhost' || location.hostname === '127.0.0.1' || location.port === '5173';
				if (!isLocalDev) {
					window.addEventListener('load', function () {
						navigator.serviceWorker
							.register('%sveltekit.assets%/service-worker.js')
							.then((reg) => console.log('ServiceWorker registered:', reg.scope))
							.catch((err) => console.error('ServiceWorker registration failed:', err));
					});
				}
			}
		</script>
	</body>
</html>
